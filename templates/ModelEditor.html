{% extends "StemBase.html" %}

{% block PageSettings %}
modelID: '{{modelID}}',    
{% endblock %}

{% block BodyContent %}
{% raw %}
<div ng-controller="ModelEditorCtrl">
<!--   <div style="position: fixed; width: 100%; height: 60px; z-index:900; background: #EEC; padding-left: 20px; padding-right: 20px;" > -->
<!-- 	  <div style="position: relative; bottom: 15; float: left;"> -->
<!-- 		  <h1 style="display: inline-block;" ng-bind="model.name"></h1> -->
<!-- 	  </div> -->
<!-- 	  <div style="position: relative; top: 12; float: right;" class="btn-group" role="group" aria-label="Model buttons"> -->
<!-- 	    <button class="btn btn-primary" ng-click="save()" id="{{model._id}}-saveButton"> -->
<!-- 	    	Save</button> -->
<!-- 	    <button class="btn btn-primary" ng-click="compute()">Compute</button> -->
<!-- 	    <button class="btn btn-primary" data-toggle="modal" data-target="#{{model._id}}-modal">Properties</button> -->
<!-- 	  </div>  -->
<!--   </div> -->
  <div stem-modal model="model"></div>
  <div>
  	<div style="position: fixed; top: 70;" id="ToolBars">
  	<accordion close-others="true">
  	  <accordion-group style="color: blue;" heading="Layouts" is-open="true">
        <div id="LayoutsToolbar">
	  	  <ul style="list-style-type: none; padding: 0px;">
	        <li id="grid_Wide">Grid(wide)</li>
	        <li id="grid_Narrow">Grid(narrow)</li>
	        <li id="free">Free</li>
	      </ul>
	    </div>
	  </accordion-group>
	  <accordion-group style="color: blue;" heading="Components">
	    <div id="ModelComponentsToolbar">
	      <ul style="list-style-type: none; padding: 0px;">
	        <li id="fields_Scalar"><img src='/static/img/Variable.png'>&nbsp; Variable</li>
            <li id="fields_Formulas"><img src='/static/img/Formulas.png'>&nbsp; Formulas</li>
	        <li id="fields_Table"><img src='/static/img/Table.png'>&nbsp; Table</li>
	        <li id="fields_TextArea"><img src='/static/img/Text.png'>&nbsp; Text</li>
	      </ul>
	    </div>
	  </accordion-group>
	  <accordion-group style="color: blue;" heading="Library Modules">
        <div id="LibraryModulesToolbar">
          <div ng-if="libraryModulesLoaded">
        	<accordion close-others="true">
			  <accordion-group heading="{{name}}" ng-repeat="(name, value) in libraryModulesAccordionObj">
			    <ul>
			      <li ng-repeat="item in value.items" ng-bind="item"></li>
			    </ul>
			  </accordion-group>
			</accordion>
          </div>
         </div>
      </accordion-group>
    </accordion>
	</div>
	<div id="main" style="position: absolute; left: 150; top: 70;">
		<div ng-if="model.board && quantitiesLoaded">
            <h1 style="margin-left: 10px;" ng-bind="model.name"></h1>
            <div style="margin-left: 10px;" ng-bind="model.description"></div>
	  		<div stem-board="model.board" container-selector="#main" 
	  			layouts-selector="#LayoutsToolbar > ul > li"
	  			components-selector="#ModelComponentsToolbar > ul > li"></div>
	  	</div>
		<div ng-if="!model.board">
	  		<div>Loading model</div>
	  	</div>
	</div>
  </div>
  <div class="ModelInterface">
  </div>
</div>
{% endraw %}
{% endblock %}
