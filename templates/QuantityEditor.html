{% extends "StemBase.html" %}

{% block PageSettings %}
quantityID: '{{quantityID}}',    
{% endblock %}

{% block BodyContent %}
{% raw %}
<div style="margin:10;" ng-controller="QuantityEditorCtrl">
  <h1>Quantity editor</h1>
  <form role="form">
    <div class="form-group">
      <label for="name">Name:</label>
      <input type="text" id="name" ng-model="quantity.name">
    </div>
    <div class="form-group">
      <label for="label">Label:</label>
      <input type="text" id="label" ng-model="quantity.label">
    </div>
    <div class="form-group">
      <label for="SIUnit">SIUnit:</label>
      <select id="SIUnit" ng-model="quantity.SIUnit" ng-options="unit[0] as unit[0] for unit in quantity.units"></select>
    </div>
    <div class="form-group">
      <label>Units:</label>
      <div><a ng-click="addUnit(0)">&plus;</a></div>
      <table>
        <tr>
          <th></th>
          <th>Name</th>
          <th>Mutiplier</th>
          <th>Offset</th>
        </tr>
        <tr ng-repeat="unit in quantity.units track by $index">
          <td><a ng-click="addUnit($index + 1)">&plus;</a>&nbsp;<a ng-click="deleteUnit($index)">&times;</a>&nbsp;</td>
          <td><input type="text" ng-model="unit[0]"></td>
          <td><input type="text" ng-change="onMultiplierChange($index)" ng-model="multiplierStrings[$index]"></td>
          <td><input type="numerical" step="any" ng-model="unit[1].offset"></td>
        </tr>
      </table> 
    </div>
    <div class="btn-group" role="group" aria-label="Action buttons">
      <button class="btn btn-primary" ng-click="save()">Save</button>
      <button class="btn btn-primary" ng-click="listQuantities()">Quantities</button>
    </div> 
  </form>
</div>
{% endraw %}
{% endblock %}